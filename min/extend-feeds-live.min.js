(()=>(e,t)=>{(async()=>{if(document.URL.replace(location.search,"")!=="https://t.bilibili.com/"){return}const e=await SpinQuery.select(".live-up-list");if(e===null){return}t.applyStyle("extendFeedsLiveStyle");const i=24;const n=await Ajax.getPages({api:e=>Ajax.getJsonWithCredentials(`https://api.live.bilibili.com/relation/v1/feed/feed_list?page=${e}&pagesize=${i}`),getList:e=>_.get(e,"data.list",[]),getTotal:e=>_.get(e,"data.results",0)});const a=dqa(e,".up-name");const l=a.map((e=>e.innerText.trim()));const s=n.filter((e=>l.includes(e.uname)));const o=n.filter((e=>!l.includes(e.uname)));const r=e.children[0];o.forEach((t=>{const i=dqa(e,".up-name");if(i.some((e=>e.innerText.trim()===t.uname))){return}const n=r.cloneNode(true);dqa(n,"a[href]").forEach((e=>e.setAttribute("href",`https://live.bilibili.com/${t.roomid}`)));const a=dq(n,".live-up-img");a.style.backgroundImage=`url(${t.face})`;const l=dq(n,".live-name");l.innerHTML=t.title;l.title=t.title;const s=dq(n,".up-name");s.innerHTML=t.uname;s.title=t.uname;e.insertAdjacentElement("beforeend",n)}));const{disableProfilePopup:c}=await t.importAsync("disable-profile-popup");c();console.log(s,o)})()})();